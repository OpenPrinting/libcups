<!DOCTYPE html>
<html>
  <head>
    <style><!--
body {
  font-family: sans-serif;
  font-size: 16pt;
  margin: 54pt 36pt;
}
.center {
  text-align: center;
}
a:link, a:visited {
  color: #c00;
  text-decoration: underline;
}

a:link:hover, a:active {
  color: #f00;
  text-decoration: underline;
}
code, kbd, pre, tt {
  font-family: monospace;
}
dl {
  margin-left: 2em;
}
h2, h3 {
  border-bottom: solid 2px black;
}
h4 {
  border-bottom: solid 1px black;
}
p {
  text-align: justify;
}
span.info {
  background: #ddf;
  border: solid 1px #77c;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
  float: right;
  font-size: 80%;
  padding: 2px 10px;
}
h4 span.info {
  padding: 1px 8px;
}
table {
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  max-width: 90%;
}
table thead th {
  border-bottom: solid 2px black;
  padding: 0 10px;
  text-align: left;
  vertical-align: bottom;
}
table tbody tr:nth-child(even) {
  background: #ddd;
}
table tbody td {
  border-bottom: solid 1px black;
  padding: 4px 10px;
  vertical-align: top;
}
blockquote {
  background: #ddf;
  border-left: solid 2px #77c;
  margin-left: 0;
  margin-right: 0;
  padding: 10px;
}
/* Dark mode overrides */
@media (prefers-color-scheme: dark) {
  body {
    background: black;
    color: #ccc;
  }
  h2, h3, h4, table tbody td, table thead th {
    border-color: #ccc;
  }
  blockquote, span.info {
    background: #337;
    border-color: #66f;
  }
  table tbody tr:nth-child(even) {
    background: #444;
  }
}
--></style>
    <meta name="creator" content="mantohtml v2.0.2">
    <title>client.conf(5)</title>
  </head>
  <body>
    <h1 id="client.conf-5">client.conf(5)</h1>
    <h2 id="client.conf-5.name">Name</h2>
<p>client.conf - client configuration file for cups
</p>
    <h2 id="client.conf-5.description">Description</h2>
<p>The <strong>client.conf</strong> file configures the CUPS client and is normally located in any of the following directories:
</p>
    <ul>
    <li style="margin-left: 2.5em;"><strong>/etc/cups</strong>
<em>or</em>
<strong>/usr/local/etc/cups</strong>
<em>(root account)</em>
    <li style="margin-left: 2.5em;"><strong>$SNAP_COMMON/cups</strong>
<em>(snapcraft-based applications)</em>
    <li style="margin-left: 2.5em;"><strong>$HOME/.cups</strong>
<em>(historical per-user settings)</em>
    <li style="margin-left: 2.5em;"><strong>$XDG_CONFIG_HOME/cups</strong>
<em>or</em>
<strong>$HOME/.config/cups</strong>
<em>(current per-user settings)</em>
    <li style="margin-left: 2.5em;"><strong>%USERPROFILE%/AppData/Local/cups</strong>
<em>(Windows per-user settings)</em>
</ul>
    <p>Each line in the file can be a configuration directive, a blank line, or a comment. Comment lines start with the # character.
</p>
    <p><strong>Note:</strong> macOS applications can access many of these settings in the <em>/Library/Preferences/org.cups.PrintingPrefs.plist</em> file instead.
macOS also does not support the
<strong>ServerName</strong>
directive.
See the NOTES section below for more information.
</p>
    <h3 id="client.conf-5.description.directives">Directives</h3>
<p>The following directives are understood by the client. Consult the online help for detailed descriptions:
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AllowAnyRoot Yes</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AllowAnyRoot No</strong><br>
Specifies whether to allow TLS with certificates that have not been signed by a trusted Certificate Authority.
The default is
<strong>Yes</strong>.

</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AllowExpiredCerts Yes</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>AllowExpiredCerts No</strong><br>
Specifies whether to allow TLS with expired certificates.
The default is
<strong>No</strong>.

</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>DigestOptions DenyMD5</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>DigestOptions None</strong><br>
Specifies HTTP Digest authentication options.
<strong>DenyMD5</strong>
disables support for the original MD5 hash algorithm.
The default is
<strong>None</strong>.

</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Encryption IfRequested</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Encryption Never</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>Encryption Required</strong><br>
Specifies the level of encryption that should be used.
The default is
<strong>IfRequested</strong>.

</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>BrowseDomains all</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>BrowseDomains none</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>BrowseDomains </strong><em>DOMAIN[,...,DOMAIN]</em><br>
Specifies the DNS-SD domains to browse for IPP printers.
The value
<strong>all</strong>
browses the &quot;.local&quot; domain (mDNS) and all registered DNS domains on the local system.
The value
<strong>none</strong>
disables browsing for network printers.
The default is
<strong>all</strong>.

</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>FilterLocation </strong><em>LOCATION[,...,LOCATION]</em><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>FilterLocation </strong><em>'LOCATION'[,...,'LOCATION']</em><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>FilterLocation </strong><em>&quot;LOCATION&quot;[,...,&quot;LOCATION&quot;]</em><br>
Specifies a list of locations to use for destinations.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>FilterLocation </strong><em>/REGULAR-EXPRESSION/</em><br>
Specifies a regular expression for matching locations to use for destinations.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>FilterType any</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>FilterType </strong><em>TYPE[,...,TYPE]</em><br>
Specifies the type of destinations to use.
The
<em>TYPE</em>
values are &quot;mono&quot; for B&amp;W printers, &quot;color&quot; for color printers, &quot;duplex&quot; for printers with 2-sided printing capabilities, &quot;simplex&quot; for printers with 1-sided printing capabilities, &quot;bind&quot; for printers that can bind output, &quot;cover&quot; for printers that can cover output, &quot;punch&quot; for printers that can punch output, &quot;sort&quot; for printers that can sort output, &quot;staple&quot; for printers with a stapler, &quot;small&quot; for printers that support media up to US Legal/ISO A4, &quot;medium&quot; for printers that support media up to US Tabloid/ISO A3, and &quot;large&quot; for printers that support media larger than US Tabloid/ISO A3.
The default is no filtering.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>ServerName </strong><em>HOSTNAME-OR-IP-ADDRESS</em>[<em>:PORT</em>]<br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>ServerName </strong><em>/DOMAIN/SOCKET</em><br>
Specifies the address and optionally the port to use when connecting to the server (not supported on macOS).
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>ServerName </strong><em>HOSTNAME-OR-IP-ADDRESS</em>[<em>:PORT</em>]<strong>/version=1.1</strong><br>
Specifies the address and optionally the port to use when connecting to a server running CUPS 1.3.12 and earlier.
The default is the local spooler's domain socket.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>SSLOptions </strong>[<strong>AllowDH</strong>] [<strong>AllowRC4</strong>] [<strong>AllowSSL3</strong>] [<strong>DenyCBC</strong>] [<strong>DenyTLS1.0</strong>] [<strong>MaxTLS1.0</strong>] [<strong>MaxTLS1.1</strong>] [<strong>MaxTLS1.2</strong>] [<strong>MaxTLS1.3</strong>] [<strong>MinTLS1.0</strong>] [<strong>MinTLS1.1</strong>] [<strong>MinTLS1.2</strong>] [<strong>MinTLS1.3]</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>SSLOptions None</strong><br>
Sets encryption options.
The default is
<strong>None</strong>
which only supports encryption using TLS v1.0 or higher using known secure cipher suites.
Security is reduced when
<strong>Allow</strong>
options are used.
Security is enhanced when
<strong>Deny</strong>
options are used.
The
<strong>AllowDH</strong>
option enables cipher suites using plain Diffie-Hellman key negotiation (not supported on systems using GNU TLS).
The
<strong>AllowRC4</strong>
option enables the 128-bit RC4 cipher suites, which are required for some older clients.
The
<strong>AllowSSL3</strong>
option enables SSL v3.0, which is required for some older clients that do not support TLS v1.0.
The
<strong>DenyCBC</strong>
option disables all CBC cipher suites.
The
<strong>DenyTLS1.0</strong>
option disables TLS v1.0 support - this sets the minimum protocol version to TLS v1.1.
The
<strong>MinTLS</strong><em>version</em>

options set the minimum TLS version to support.
The
<strong>MaxTLS</strong><em>version</em>

options set the maximum TLS version to support.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>TrustOnFirstUse Yes</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>TrustOnFirstUse No</strong><br>
Specifies whether to trust new (self-signed) TLS certificates by default.
The default is
<strong>Yes</strong>.

</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>User </strong><em>NAME</em><br>
Specifies the default user name to use for requests.
The default is the login user name.
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>UserAgentTokens None</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>UserAgentTokens ProductOnly</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>UserAgentTokens Major</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>UserAgentTokens Minor</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>UserAgentTokens Minimal</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>UserAgentTokens OS</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>UserAgentTokens Full</strong><br>
Specifies what information is included in the User-Agent header of HTTP requests.
<strong>None</strong>
disables the User-Agent header.
<strong>ProductOnly</strong>
reports &quot;CUPS&quot;.
<strong>Major</strong>
reports &quot;CUPS/major IPP/2&quot;.
<strong>Minor</strong>
reports &quot;CUPS/major.minor IPP/2.1&quot;.
<strong>Minimal</strong>
reports &quot;CUPS/major.minor.patch IPP/2.1&quot;.
<strong>OS</strong>
reports &quot;CUPS/major.minor.path (osname osversion) IPP/2.1&quot;.
<strong>Full</strong>
reports &quot;CUPS/major.minor.path (osname osversion; architecture) IPP/2.1&quot;.
The default is
<strong>Minimal</strong>.

</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>ValidateCerts Yes</strong><br>
</p>
    <p style="margin-left: 2.5em; text-indent: -2.5em;"><strong>ValidateCerts No</strong><br>
Specifies whether to only allow TLS with certificates whose commonName or subjectAltName values match the hostname of the printer or server.
The default is
<strong>No</strong>.

</p>
    <h2 id="client.conf-5.x.509-certificate-store">X.509 Certificate Store</h2>
<p>CUPS uses the system root CA certificate store and per-user certificate stores managed by CUPS.
The per-user certificate stores are found in
<strong>/etc/cups/ssl</strong>
or
<strong>/usr/local/etc/cups/ssl</strong>
for the root user and
<strong>$XDG_CONFIG_HOME/cups/ssl</strong>
or
<strong>$HOME/.config/cups/ssl</strong>
<em>(Linux/*BSD),</em>
<strong>$HOME/Library/Application Support/cups/ssl</strong>
<em>(macOS),</em>
<strong>%USERPROFILE%/AppData/Local/cups</strong>
<em>(Windows),</em>

and/or
<strong>$HOME/.cups/ssl</strong>
<em>(historical/other Unix platforms)</em>
for other user accounts.
</p>
    <p>Certificates, certificate signing requests, and private keys are stored as PEM-encoded files with the naming convention &quot;COMMON-NAME.crt&quot; for certificates, &quot;COMMON-NAME.csr&quot; for certificate signing requests, and &quot;COMMON-NAME.key&quot; for private keys.
The special common name &quot;_site_&quot; is used for a site-specific root certificate that can be used for trust evaluations.
</p>
    <h2 id="client.conf-5.x.509-certificate-validation">X.509 Certificate Validation</h2>
<p>CUPS supports validation of the certificate's commonName and subjectAltName field values, the certificate expiration date, and the certificate's root certificate(s), if any.
Self-signed certificates are &quot;pinned&quot; (stored) to the host in order to do validation.
Validation for certain non-printing servers may add additional restrictions to the policy defined in the
<strong>client.conf</strong>
file.
For example, OAuth authorization requires a CA-signed certificate.
</p>
    <p>The
<strong>AllowAnyRoot</strong>
directive controls whether unpinned self-signed certificates are acceptable.
The
<strong>TrustOnFirstUse</strong>
directive controls whether self-certificates are automatically pinned in the per-user certificate store for subsequent host validations.
When
<strong>AllowAnyRoot</strong>
is disabled,
<strong>TrustOnFirstUse</strong>
is also disabled.
</p>
    <h2 id="client.conf-5.notes">Notes</h2>
<p>Because of sandboxing, the
<strong>client.conf</strong>
file is not generally accessible to applications on macOS.
Configuration settings can instead be viewed or changed using the
<strong>defaults</strong>(1)

command:
</p>
    <pre>defaults write /Library/Preferences/org.cups.PrintingPrefs.plist Encryption Required
defaults write /Library/Preferences/org.cups.PrintingPrefs.plist TrustOnFirstUse -bool NO

defaults read /Library/Preferences/org.cups.PrintingPrefs.plist Encryption
</pre>
<p>On Linux and other systems using GNU TLS, the
<strong>/etc/cups/ssl/site.crl</strong>
or
<strong>/usr/local/etc/cups/ssl/site.crl</strong>
file, if present, provides a list of revoked X.509 certificates and is used when validating certificates.
</p>
    <h2 id="client.conf-5.see-also">See Also</h2>
<p><strong>cups</strong>(1),

<a href="cups-x509.html"><strong>cups-x509</strong>(1)</a>

</p>
    <h2 id="client.conf-5.copyright">Copyright</h2>
<p>Copyright &copy; 2021-2025 by OpenPrinting.
  </body>
</html>
