.\"
.\" ipptoolfile man page.
.\"
.\" Copyright © 2021-2025 by OpenPrinting.
.\" Copyright © 2010-2021 by Apple Inc.
.\"
.\" Licensed under Apache License v2.0.  See the file "LICENSE" for more
.\" information.
.\"
.TH ipptoolfile 5 "CUPS" "2025-10-23" "OpenPrinting"
.SH NAME
ipptoolfile \- ipptool file format
.SH DESCRIPTION
The
.BR ipptool (1)
program accepts free-form plain text files that describe one or more IPP requests.
Comments start with the "#" character and continue to the end of the line.
Each request is enclosed by curly braces, for example:
.nf

    # This is a comment
    {
      # The name of the test
      NAME "Print PDF File"

      # The request to send
      OPERATION Print\-Job

      GROUP operation\-attributes\-tag
      ATTR charset attributes\-charset utf\-8
      ATTR language attributes\-natural\-language en
      ATTR uri printer\-uri $uri
      ATTR name requesting\-user\-name $user
      ATTR mimeMediaType document\-format application/pdf

      GROUP job\-attributes\-tag
      ATTR collection media\-col {
        # US Letter plain paper from the "main" tray
        MEMBER collection media\-size {
          MEMBER integer x\-dimension 21590
          MEMBER integer y\-dimension 27940
        }
        MEMBER integer media\-top\-margin 423
        MEMBER integer media\-bottom\-margin 423
        MEMBER integer media\-left\-margin 423
        MEMBER integer media\-right\-margin 423
        MEMBER keyword media\-source "main"
        MEMBER keyword media\-type "stationery"
      }

      FILE testfile.pdf

      # The response to expect
      STATUS successful\-ok
      EXPECT job\-id OF\-TYPE integer WITH\-VALUE >0
      EXPECT job\-uri OF\-TYPE uri
    }
    {
      # The name of the test
      NAME "Wait for Job to Complete"

      # The request to send
      OPERATION Get\-Job\-Attributes

      GROUP operation\-attributes\-tag
      ATTR charset attributes\-charset utf\-8
      ATTR language attributes\-natural\-language en
      ATTR uri printer\-uri $uri
      ATTR integer job\-id $job\-id
      ATTR name requesting\-user\-name $user

      # The response to expect
      STATUS successful\-ok
      EXPECT job\-id OF\-TYPE integer WITH\-VALUE $job\-id
      EXPECT job\-uri OF\-TYPE uri
      EXPECT job\-state OF\-TYPE enum WITH\-VALUE >5 REPEAT\-NO\-MATCH
      EXPECT job\-originating\-user\-name OF\-TYPE name WITH\-VALUE "$user"

      # Show the job state until completed...
      DISPLAY job\-state
      DISPLAY job\-state\-reasons
    }
.fi
.SS TOP-LEVEL DIRECTIVES
The following directives can be used outside of a \fItest\fR:
.TP 5
\fB{ \fITEST \fB}\fR
Defines a test.
.TP 5
\fBDEFINE \fIVARIABLE-NAME VALUE\fR
Defines the named variable to the given value. This is equivalent to specifying \fB\-d \fIVARIABLE-NAME=VALUE\fR on the
.B ipptool
command-line.
.TP 5
\fBDEFINE\-DEFAULT \fIVARIABLE-NAME VALUE\fR
Defines the named variable to the given value if it does not already have a value.
.TP 5
\fBFILE\-ID "\fIIDENTIFIER\fB"\fR
Specifies an identifier string for the current file.
.TP 5
\fBIGNORE\-ERRORS yes\fR
.TP 5
\fBIGNORE\-ERRORS no\fR
Specifies whether, by default,
.B ipptool
will ignore errors and continue with subsequent tests.
.TP 5
\fBINCLUDE "\fIFILENAME\fB"\fR
.TP 5
\fBINCLUDE <\fIFILENAME\fB>\fR
Includes another test file.
The first form includes a file relative to the current test file, while the second form includes a file from the
.B ipptool
include directory.
.TP 5
\fBINCLUDE\-IF\-DEFINED \fINAME \fB"\fIFILENAME\fB"\fR
.TP 5
\fBINCLUDE\-IF\-DEFINED \fINAME \fB<\fIFILENAME\fB>\fR
Includes another test file if the named variable is defined.
The first form includes a file relative to the current test file, while the second form includes a file from the
.B ipptool
include directory.
.TP 5
\fBINCLUDE\-IF\-NOT\-DEFINED \fINAME \fB"\fIFILENAME\fB"\fR
.TP 5
\fBINCLUDE\-IF\-NOT\-DEFINED \fINAME \fB<\fIFILENAME\fB>\fR
Includes another test file if the named variable is not defined.
The first form includes a file relative to the current test file, while the second form includes a file from the
.B ipptool
include directory.
.TP 5
\fBSKIP\-IF\-DEFINED \fIVARIABLE-NAME\fR
.TP 5
\fBSKIP\-IF\-NOT\-DEFINED \fIVARIABLE-NAME\fR
Specifies that the remainder of the test file should be skipped when the variable is or is not defined.
.TP 5
\fBSTOP\-AFTER\-INCLUDE\-ERROR no\fR
.TP 5
\fBSTOP\-AFTER\-INCLUDE\-ERROR yes\fR
Specifies whether tests will be stopped after an error in an included file.
.TP 5
\fBTRANSFER auto\fR
Specifies that tests will, by default, use "Transfer-Encoding: chunked" for requests with attached files and "Content-Length:" for requests without attached files.
This is the default.
.TP 5
\fBTRANSFER chunked\fR
Specifies that tests will, by default, use the HTTP/1.1 "Transfer-Encoding: chunked" header. This is equivalent to specifying
.B \-c
on the
.B ipptool
command-line.
Support for chunked requests is required for conformance with all versions of IPP.
.TP 5
\fBTRANSFER length\fR
Specifies that tests will, by default, use the HTTP/1.0 "Content-Length:" header.
This is equivalent to specifying
.B \-l
on the
.B ipptool
command-line.
Support for content length requests is required for conformance with all versions of IPP.
.TP 5
\fBVERSION 1.0\fR
.TP 5
\fBVERSION 1.1\fR
.TP 5
\fBVERSION 2.0\fR
.TP 5
\fBVERSION 2.1\fR
.TP 5
\fBVERSION 2.2\fR
Specifies the default IPP version number to use for the tests that follow.
.SS TEST DIRECTIVES
The following directives are understood within a test:
.TP 5
\fBATTR \fIOUT-OF-BAND-TAG ATTRIBUTE-NAME\fR
.TP 5
\fBATTR \fITAG ATTRIBUTE-NAME VALUE\fR[,...,\fIVALUE\fR]
.TP 5
\fBATTR \fITAG ATTRIBUTE-NAME "VALUE"\fR[,...,\fI"VALUE"\fR]
.TP 5
\fBATTR \fITAG ATTRIBUTE-NAME \fB<\fIHEX-VALUE\fB>\fR[,...,\fB<\fIHEX-VALUE\fB>\fR]
Adds an attribute to the test request.
Out-of-band tags (admin-define, delete-attribute, no-value, not-settable, unknown, unsupported) have no value.
Values for other tags are delimited by the comma (",") character - escape commas using the "\\" character.
Common attributes and values are listed in the IANA IPP registry - see the "REFERENCES" section below.
.TP 5
\fBATTR collection \fIATTRIBUTE-NAME \fB{ MEMBER \fITAG MEMBER-NAME VALUE(S) \fR... \fB}\fR [ ... \fB,{ \fR... \fB} \fR]
Adds a collection attribute to the test request.
Member attributes follow the same syntax as regular attributes and can themselves be nested collections.
Multiple collection values can be supplied as needed, separated by commas.
.TP 5
\fBCOMPRESSION deflate\fR
.TP 5
\fBCOMPRESSION gzip\fR
.TP 5
\fBCOMPRESSION none\fR
Uses the specified compression on the document data following the attributes in a Print-Job or Send-Document request.
.TP 5
\fBDELAY \fISECONDS\fR[\fB,\fIREPEAT-SECONDS\fR]
Specifies a delay in seconds before this test will be run.
If two values are specified, the second value is used as the delay between repeated tests.
.TP 5
\fBDISPLAY \fIATTRIBUTE-NAME\fR
Specifies that value of the named attribute should be output as part of the
test report.
.TP 5
\fBEXPECT \fIATTRIBUTE-NAME \fR[ \fIPREDICATE(S) \fR]
.TP 5
\fBEXPECT ?\fIATTRIBUTE-NAME \fR[ \fIPREDICATE(S) \fR]
.TP 5
\fBEXPECT !\fIATTRIBUTE-NAME\fR
Specifies that the response must/may/must not include the named attribute.
Additional requirements can be added as predicates - see the "EXPECT PREDICATES" section for more information on predicates.
Attribute names can specify member attributes by separating the attribute and member names with the forward slash, for example "media\-col/media\-size/x\-dimension".
.TP 5
\fBEXPECT-ALL \fIATTRIBUTE-NAME \fR[ \fIPREDICATE(S) \fR]
.TP 5
\fBEXPECT-ALL ?\fIATTRIBUTE-NAME \fR[ \fIPREDICATE(S) \fR]
Specifies that the response must/may include the named attribute and that all occurrences of that attribute must match the given predicates.
.TP 5
\fBFILE FILENAME\fR
Specifies a file to include at the end of the request.
This is typically used when sending a test print file.
.TP 5
\fBGENERATE\-FILE { \fIPARAMETERS \fB}\fR
Specifies that
.B ipptool
should generate PWG or Apple raster data for the printer.
See the "GENERATE\-FILE PARAMETERS" section for information on the parameters you can specify.
.TP 5
\fBGROUP \fITAG\fR
Specifies the group tag (
.IR document\-attributes\-tag ,
.IR event\-notification\-attributes\-tag ,
.IR job\-attributes\-tag ,
.IR operation\-attributes\-tag ,
.IR printer\-attributes\-tag ,
.IR resource\-attributes\-tag ,
.IR subscription\-attributes\-tag ,
.IR system\-attributes\-tag ,
or
.IR unsupported\-attributes\-tag
) for subsequent attributes in the request.
.TP 5
\fBIGNORE\-ERRORS yes\fR
.TP 5
\fBIGNORE\-ERRORS no\fR
Specifies whether
.B ipptool
will ignore errors and continue with subsequent tests.
.TP 5
\fBMONITOR-PRINTER-STATE \fR[ \fIPRINTER-URI \fR] \fB{ EXPECT \fIATTRIBUTE-NAME \fR[ \fIPREDICATE(S) \fR] \fB}\fR
Specifies printer state monitoring tests to run in parallel with the test operation.
The monitoring tests will run until all of the
.B EXPECT
conditions are satisfied or the primary test operation has completed, whichever occurs first.
.TP 5
\fBNAME "\fILITERAL STRING\fB"\fR
Specifies the human-readable name of the test.
.TP 5
\fBOPERATION \fIOPERATION-CODE\fR
Specifies the operation to be performed.
See the section "OPERATION CODES" below for a list of supported operations.
.TP 5
\fBPASS\-IF\-DEFINED \fIVARIABLE-NAME\fR
.TP 5
\fBPASS\-IF\-NOT\-DEFINED \fIVARIABLE-NAME\fR
Specifies that the current test should be passed automatically when the variable is or is not defined.
.TP 5
\fBPAUSE "\fIMESSAGE\fB"\fR
Displays the provided message and waits for the user to press a key to continue.
.TP 5
\fBREQUEST\-ID \fINUMBER\fR\fR
.TP 5
\fBREQUEST\-ID random\fR
Specifies the request-id value to use in the request, either a positive integer or the word "random" to use a randomly generated value (the default for the first test).
.TP 5
\fBRESOURCE \fIPATH\fR
Specifies an alternate resource path that is used for the HTTP POST request.
The default is the resource from the URI provided to the
.B ipptool
program.
.TP 5
\fBSKIP\-IF\-DEFINED \fIVARIABLE-NAME\fR
.TP 5
\fBSKIP\-IF\-NOT\-DEFINED \fIVARIABLE-NAME\fR
Specifies that the current test should be skipped when the variable is or is not defined.
.TP 5
\fBSKIP\-PREVIOUS\-ERROR yes\fR
.TP 5
\fBSKIP\-PREVIOUS\-ERROR no\fR
Specifies whether
.B ipptool
will skip the current test if the previous test resulted in an error/failure.
.TP 5
\fBSTATUS \fISTATUS-CODE \fR[ \fIPREDICATE\fR ]
Specifies an expected response status-code value.
See the section "STATUS CODES" below for a list.
Additional requirements can be added as predicates - see the "STATUS PREDICATES" section for more information on predicates.
.TP 5
\fBTEST\-ID "\fIIDENTIFIER\fR"
Specifies an identifier string for the current test.
.TP 5
\fBTRANSFER auto\fR
Specifies that this test will use "Transfer-Encoding: chunked" if it has an attached file or "Content-Length:" otherwise.
.TP 5
\fBTRANSFER chunked\fR
Specifies that this test will use the HTTP/1.1 "Transfer-Encoding: chunked" header.
.TP 5
\fBTRANSFER length\fR
Specifies that this test will use the HTTP/1.0 "Content-Length:" header.
.TP 5
\fBVERSION 1.0\fR
.TP 5
\fBVERSION 1.1\fR
.TP 5
\fBVERSION 2.0\fR
.TP 5
\fBVERSION 2.1\fR
.TP 5
\fBVERSION 2.2\fR
Specifies the IPP version number to use for this test.
.SS EXPECT PREDICATES
The following predicates are understood following the
.B EXPECT
test directive:
.TP 5
\fBCOUNT \fINUMBER\fR
Requires the
.B EXPECT
attribute to have the specified number of values.
.TP 5
\fBDEFINE\-MATCH \fIVARIABLE-NAME\fR
Defines the variable to "1" when the
.B EXPECT
condition matches.
A side-effect of this predicate is that this
.B EXPECT
will never fail a test.
.TP 5
\fBDEFINE\-NO\-MATCH \fIVARIABLE-NAME\fR
Defines the variable to "1" when the
.B EXPECT
condition does not match.
A side-effect of this predicate is that this
.B EXPECT
will never fail a test.
.TP 5
\fBDEFINE\-VALUE \fIVARIABLE-NAME\fR
Defines the variable to the value of the attribute when the
.B EXPECT
condition matches.
A side-effect of this predicate is that this
.B EXPECT
will never fail a test.
.TP 5
\fBDISPLAY\-MATCH "\fIMESSAGE\fB"\fR
Displays the specified message when the
.B EXPECT
condition matches.
.TP 5
\fBIF\-DEFINED \fIVARIABLE-NAME\fR
Makes the
.B EXPECT
conditions apply only if the specified variable is defined.
.TP 5
\fBIF\-NOT\-DEFINED \fIVARIABLE-NAME\fR
Makes the
.B EXPECT
conditions apply only if the specified variable is not defined.
.TP 5
\fBIN\-GROUP \fITAG\fR
Requires the
.B EXPECT
attribute to be in the specified group tag (
.IR document\-attributes\-tag ,
.IR event\-notification\-attributes\-tag ,
.IR job\-attributes\-tag ,
.IR operation\-attributes\-tag ,
.IR printer\-attributes\-tag ,
.IR resource\-attributes\-tag ,
.IR subscription\-attributes\-tag ,
.IR system\-attributes\-tag ,
or
.IR unsupported\-attributes\-tag
).
.TP 5
\fBOF\-TYPE \fITAG\fR[\fB(\fILIMITS\fB)|\fR...\fB|\fITAG\fR]
Requires the
.B EXPECT
attribute to use one of the specified value tag(s).
See the "TAGS" section for a list of value tags.
Most value tags also support the specification of limits in parenthesis, for example "name(42)" would allow nameWith/WithoutLanguage strings up to 42 octets in length, "name(4:MAX)" would allow nameWith/WithoutLanguage strings between 4 and 255 octets in length, and "integer(-273:MAX)" would allow integers between -273 and 2147483647.
.TP 5
\fBREPEAT\-LIMIT \fINUMBER\fR
.br
Specifies the maximum number of times to repeat if the
.B REPEAT\-MATCH
or
.B REPEAT\-NO\-MATCH
predicate is specified.
The default value is 1000.
.TP 5
\fBREPEAT\-MATCH\fR
.TP 5
\fBREPEAT\-NO\-MATCH\fR
Specifies that the current test should be repeated when the
.B EXPECT
condition matches or does not match.
.TP 5
\fBSAME\-COUNT\-AS \fIATTRIBUTE-NAME\fR
Requires the
.B EXPECT
attribute to have the same number of values as the specified parallel attribute.
.TP 5
\fBSAVE\-CONTENT \fIFILESPEC\fR
.TP 5
\fBSAVE\-ALL\-CONTENT \fIFILESPEC\fR
Saves all "http:" or "https:" URI values to the specified location.
The filespec value is a filename or directory path and can contain the special strings "%basename%" to insert the base filename from the URI, "%ext%" to insert the extension from the URI, and "%index%" to insert the value number starting at 1.
.TP 5
\fBWITH\-ALL\-CONTENT available\fR
.TP 5
\fBWITH\-CONTENT available\fR
Requires that all URI values be accessible.
A "http:" or "https:" URI must respond to a GET request while a "ipp:" or "ipps:" URI must respond to a HEAD request.
.TP 5
\fBWITH\-ALL\-CONTENT valid\fR
.TP 5
\fBWITH\-CONTENT valid\fR
Requires that all "http:" and "https:" URI values be accessible and provide valid content.
Currently
.B ipptool
is able to validate CSS, HTML, ICC, IPP, JPEG, PDF, PNG, and Apple .strings files.
.TP 5
\fBWITH\-ALL\-CONTENT valid-icon\fR
.TP 5
\fBWITH\-CONTENT valid-icon\fR
Requires that all "http:" and "https:" URI values be accessible and provide valid PNG images for icons - 48x48, 128x128, or 512x512 in size with transparency.
.TP 5
\fBWITH\-ALL\-HOSTNAMES "\fILITERAL STRING\fB"\fR
.TP 5
\fBWITH\-ALL\-HOSTNAMES "/\fIREGULAR EXPRESSION\fB/"\fR
Requires that all URI values contain a matching hostname.
.TP 5
\fBWITH\-ALL\-MIME\-TYPES \fIMIME/TYPE\fR[,...,\fIMIME/TYPE\fR]
.TP 5
\fBWITH\-MIME\-TYPES \fIMIME/TYPE\fR[,...,\fIMIME/TYPE\fR]
Requires that all URI values provide one of the listed MIME media types.
For non-content tests, the target Printer must respond to HTTP HEAD requests with the MIME media type that would be returned by a GET or POST requests.
For "http:" and "https:" content tests,
.B ipptool
sends a HTTP GET request.
For "ipp:" and "ipps:" content tests,
.B ipptool
sends an IPP Get-Printer-Attributes request.
.TP 5
\fBWITH\-ALL\-RESOURCES "\fILITERAL STRING\fB"\fR
.TP 5
\fBWITH\-ALL\-RESOURCES "/\fIREGULAR EXPRESSION\fB/"\fR
Requires that all URI values contain a matching resource (including leading /).
.TP 5
\fBWITH\-ALL\-SCHEMES "\fILITERAL STRING\fB"\fR
.TP 5
\fBWITH\-ALL\-SCHEMES "/\fIREGULAR EXPRESSION\fB/"\fR
Requires that all URI values contain a matching scheme.
.TP 5
\fBWITH\-ALL\-VALUES "\fILITERAL STRING\fB"\fR
Requires that all values of the
.B EXPECT
attribute match the LITERAL STRING.
Comparisons are case-sensitive.
.TP 5
\fBWITH\-ALL\-VALUES =\fINUMBER\fR
.TP 5
\fBWITH\-ALL\-VALUES !\fINUMBER\fR
.TP 5
\fBWITH\-ALL\-VALUES <\fINUMBER\fR
.TP 5
\fBWITH\-ALL\-VALUES >\fINUMBER\fR
.TP 5
\fBWITH\-ALL\-VALUES \fINUMBER\fR[\fI,...,number\fR]
Requires that all values of the
.B EXPECT
attribute match ("="), do not match ("!"), are less than ("<"), or are greater than (">") the number(s). When comparing rangeOfInteger values, the "<" and ">" operators only check the upper bound of the range, "=" checks for inclusion in a range, and "!" checks for exclusion of a range.
.TP 5
\fBWITH\-ALL\-VALUES "false"\fR
.TP 5
\fBWITH\-ALL\-VALUES "true"\fR
Requires that all values of the
.B EXPECT
attribute match the boolean value given.
.TP 5
\fBWITH\-ALL\-VALUES "/\fIREGULAR EXPRESSION\fB/"\fR
Requires that all values of the
.B EXPECT
attribute match the POSIX regular expression.
Comparisons are case-sensitive.
.TP 5
\fBWITH\-ALL\-VALUES\-FROM \fIATTRIBUTE-NAME\fR
Requires that all value(s) of the
.B EXPECT
attribute matches the value(s) in the specified attribute.
For example, "EXPECT-ALL media\-col\-database/media\-source WITH\-ALL\-VALUES\-FROM media\-source\-supported" requires that all the "media\-source" values are listed as a value of the "media\-source\-supported" attribute.
.TP 5
\fBWITH\-DISTINCT\-VALUES\fR
Requires that all values of the
.B EXPECT
attribute are unique.
Comparisons are case-sensitive.
Only charset, collection, enum, integer, keyword, mimeMediaType, naturalLanguage, rangeOfInteger, resolution, uriScheme attributes support this predicate.
.TP 5
\fBWITH\-HOSTNAME "\fILITERAL STRING\fB"\fR
.TP 5
\fBWITH\-HOSTNAME "/\fIREGULAR EXPRESSION\fB/"\fR
Requires that at least one URI value contains a matching hostname.
.TP 5
\fBWITH\-RESOURCE "\fILITERAL STRING\fB"\fR
.TP 5
\fBWITH\-RESOURCE "/\fIREGULAR EXPRESSION\fB/"\fR
Requires that at least one URI value contains a matching resource (including leading /).
.TP 5
\fBWITH\-SCHEME "\fILITERAL STRING\fB"\fR
.TP 5
\fBWITH\-SCHEME "/\fIREGULAR EXPRESSION\fB/"\fR
Requires that at least one URI value contains a matching scheme.
.TP 5
\fBWITH\-VALUE "\fILITERAL STRING\fB"\fR
Requires that at least one value of the
.B EXPECT
attribute matches the string.
Comparisons are case-sensitive.
.TP 5
\fBWITH\-VALUE =\fINUMBER\fR
.TP 5
\fBWITH\-VALUE !\fINUMBER\fR
.TP 5
\fBWITH\-VALUE <\fINUMBER\fR
.TP 5
\fBWITH\-VALUE >\fINUMBER\fR
.TP 5
\fBWITH\-VALUE \fINUMBER\fR[\fI,...,number\fR]
Requires that at least one value of the
.B EXPECT
attribute matches ("="), does not match ("!"), is less than ("<"), or is greater than (">") the number(s). When comparing rangeOfInteger values, the "<" and ">" operators only check the upper bound of the range, "=" checks for inclusion in a range, and "!" checks for exclusion of a range.
.TP 5
\fBWITH\-VALUE "false"\fR
.TP 5
\fBWITH\-VALUE "true"\fR
Requires that at least one value of the
.B EXPECT
attribute matches the boolean value given.
.TP 5
\fBWITH\-VALUE "/\fIREGULAR EXPRESSION\fB/"\fR
Requires that at least one value of the
.B EXPECT
attribute matches the POSIX regular expression.
Comparisons are case-sensitive.
.TP 5
\fBWITH\-VALUE\-FROM \fIATTRIBUTE-NAME\fR
Requires that the value(s) of the
.B EXPECT
attribute matches the value(s) in the specified attribute.
For example, "EXPECT job\-sheets WITH\-VALUE\-FROM job\-sheets\-supported" requires that the "job\-sheets" value is listed as a value of the "job\-sheets\-supported" attribute.
.SS STATUS PREDICATES
The following predicates are understood following the
.B STATUS
test directive:
.TP 5
\fBDEFINE\-MATCH \fIVARIABLE-NAME\fR
Defines the variable to "1" when the
.B STATUS
matches. A side-effect of this predicate is that this
.B STATUS
will never fail a test.
.TP 5
\fBDEFINE\-NO\-MATCH \fIVARIABLE-NAME\fR
Defines the variable to "1" when the
.B STATUS
does not match.
A side-effect of this predicate is that this
.B STATUS
will never fail a test.
.TP 5
\fBIF\-DEFINED \fIVARIABLE-NAME\fR
Makes the
.B STATUS
apply only if the specified variable is defined.
.TP 5
\fBIF\-NOT\-DEFINED \fIVARIABLE-NAME\fR
Makes the
.B STATUS
apply only if the specified variable is not defined.
.TP 5
\fBREPEAT\-LIMIT \fINUMBER\fR
.br
Specifies the maximum number of times to repeat. The default value is 1000.
.TP 5
\fBREPEAT\-MATCH\fR
.TP 5
\fBREPEAT\-NO\-MATCH\fR
Specifies that the current test should be repeated when the response status-code matches or does not match the value specified by the STATUS directive.
.SS OPERATION CODES
Operation codes correspond to the hexadecimal numbers (0xHHHH) and names from RFC 8011 and other IPP extension specifications. Here is a complete list of names supported by
.B ipptool:
.nf

    Acknowledge\-Document
    Acknowledge\-Identify\-Printer
    Acknowledge\-Job
    Activate\-Printer
    Add\-Document\-Images
    Allocate\-Printer\-Resources
    Cancel\-Current\-Job
    Cancel\-Job
    Cancel\-Jobs
    Cancel\-My\-Jobs
    Cancel\-Resource
    Cancel\-Subscription
    Close\-Job
    Create\-Job
    Create\-Job\-Subscriptions
    Create\-Printer
    Create\-Printer\-Subscriptions
    Create\-Resource
    Create\-Resource\-Subscriptions
    Create\-System\-Subscriptions
    CUPS\-Accept\-Jobs
    CUPS\-Accept\-Jobs
    CUPS\-Add\-Modify\-Class
    CUPS\-Add\-Modify\-Printer
    CUPS\-Authenticate\-Job
    CUPS\-Create\-Local\-Printer
    CUPS\-Delete\-Class
    CUPS\-Delete\-Printer
    CUPS\-Get\-Classes
    CUPS\-Get\-Default
    CUPS\-Get\-Devices
    CUPS\-Get\-Document
    CUPS\-Get\-PPD
    CUPS\-Get\-PPDs
    CUPS\-Get\-Printers
    CUPS\-Move\-Job
    CUPS\-Reject\-Jobs
    CUPS\-Set\-Default
    Deactivate\-Printer
    Deallocate\-Printer\-Resources
    Delete\-Printer
    Deregister\-Output\-Device
    Disable\-All\-Printers
    Disable\-Printer
    Enable\-All\-Printers
    Enable\-Printer
    Fetch\-Document
    Fetch\-Job
    Get\-Job\-Attributes
    Get\-Jobs
    Get\-Next\-Document\-Data
    Get\-Notifications
    Get\-Output\-Device\-Attributes
    Get\-Printer\-Attributes
    Get\-Printer\-Support\-Files
    Get\-Printer\-Supported\-Values
    Get\-Printers
    Get\-Subscription\-Attributes
    Get\-Subscriptions
    Get\-System\-Attributes
    Get\-System\-Supported\-Values
    Get\-User\-Printer\-Attributes
    Hold\-Job
    Hold\-New\-Jobs
    Identify\-Printer
    Install\-Resource
    Pause\-All\-Printers
    Pause\-All\-Printers\-After\-Current\-Job
    Pause\-Printer
    Pause\-Printer\-After\-Current\-Job
    Print\-Job
    Print\-URI
    Promote\-Job
    Purge\-Jobs
    Register\-Output\-Device
    Release\-Held\-New\-Jobs
    Release\-Job
    Renew\-Subscription
    Reprocess\-Job
    Restart\-Job
    Restart\-Printer
    Restart\-System
    Resubmit\-Job
    Resume\-All\-Printers
    Resume\-Job
    Resume\-Printer
    Schedule\-Job\-After
    Send\-Document
    Send\-Hardcopy\-Document
    Send\-Notifications
    Send\-Resource\-Data
    Send\-URI
    Set\-Job\-Attributes
    Set\-Printer\-Attributes
    Set\-Resource\-Attributes
    Set\-System\-Attributes
    Shutdown\-All\-Printers
    Shutdown\-One\-Printer
    Shutdown\-Printer
    Startup\-All\-Printers
    Startup\-One\-Printer
    Startup\-Printer
    Suspend\-Current\-Job
    Update\-Active\-Jobs
    Update\-Document\-Status
    Update\-Job\-Status
    Update\-Output\-Device\-Attributes
    Validate\-Document
    Validate\-Job
.fi
.SS STATUS CODES
Status codes correspond to the hexadecimal numbers (0xHHHH) and names from RFC 8011 and other IPP extension specifications. Here is a complete list of the names supported by
.B ipptool:
.nf

    client\-error\-account\-authorization\-failed
    client\-error\-account\-closed
    client\-error\-account\-info\-needed
    client\-error\-account\-limit\-reached
    client\-error\-attributes\-not\-settable
    client\-error\-attributes\-or\-values\-not\-supported
    client\-error\-bad\-request
    client\-error\-charset\-not\-supported
    client\-error\-compression\-error
    client\-error\-compression\-not\-supported
    client\-error\-conflicting\-attributes
    client\-error\-document\-access\-error
    client\-error\-document\-format\-error
    client\-error\-document\-format\-not\-supported
    client\-error\-document\-password\-error
    client\-error\-document\-permission\-error
    client\-error\-document\-security\-error
    client\-error\-document\-unprintable\-error
    client\-error\-forbidden
    client\-error\-gone
    client\-error\-ignored\-all\-notifications
    client\-error\-ignored\-all\-subscriptions
    client\-error\-not\-authenticated
    client\-error\-not\-authorized
    client\-error\-not\-fetchable
    client\-error\-not\-found
    client\-error\-not\-possible
    client\-error\-print\-support\-file\-not\-found
    client\-error\-request\-entity\-too\-large
    client\-error\-request\-value\-too\-long
    client\-error\-timeout
    client\-error\-too\-many\-subscriptions
    client\-error\-uri\-scheme\-not\-supported
    cups\-error\-account\-authorization\-failed
    cups\-error\-account\-closed
    cups\-error\-account\-info\-needed
    cups\-error\-account\-limit\-reached
    cups\-see\-other
    redirection\-other\-site
    server\-error\-busy
    server\-error\-device\-error
    server\-error\-internal\-error
    server\-error\-job\-canceled
    server\-error\-multiple\-document\-jobs\-not\-supported
    server\-error\-not\-accepting\-jobs
    server\-error\-operation\-not\-supported
    server\-error\-printer\-is\-deactivated
    server\-error\-service\-unavailable
    server\-error\-temporary\-error
    server\-error\-version\-not\-supported
    successful\-ok
    successful\-ok\-but\-cancel\-subscription
    successful\-ok\-conflicting\-attributes
    successful\-ok\-events\-complete
    successful\-ok\-ignored\-notifications
    successful\-ok\-ignored\-or\-substituted\-attributes
    successful\-ok\-ignored\-subscriptions
    successful\-ok\-too\-many\-events
.fi
.SS TAGS
Value and group tags correspond to the names from RFC 8011 and other IPP extension specifications. Here are the group tags:
.nf

    document\-attributes\-tag
    event\-notification\-attributes\-tag
    job | job\-attributes\-tag
    operation | operation\-attributes\-tag
    printer | printer\-attributes\-tag
    resource\-attributes\-tag
    subscription\-attributes\-tag
    system\-attributes\-tag
    unsupported\-attributes\-tag
.fi
.LP
Here are the value tags:
.nf

    admin\-define
    boolean
    charset
    collection | begCollection
    dateTime
    default
    delete\-attribute
    enum
    integer
    keyword
    language | naturalLanguage
    mimetype | mimeMediaType
    name | nameWithLanguage | nameWithoutLanguage
    no\-value
    not\-settable
    octetString
    rangeOfInteger
    resolution
    text | textWithLanguage | textWithoutLanguage
    unknown
    unsupported
    uri
    uriScheme
.fi
.SS VARIABLES
The
.B ipptool
program maintains a list of variables that can be used in any LITERAL STRING or attribute value by specifying "\fI$VARIABLE-NAME\fR". Aside from variables defined using the
.B \-d
option or
.B DEFINE
directive, the following pre-defined variables are available:
.TP 5
\fB$$\fR
Inserts a single "$" character.
.TP 5
\fB$ENV[\fINAME\fB]\fR
Inserts the value of the named environment variable, or an empty string if the environment variable is not defined.
.TP 5
\fB$basename\fR
Inserts the base filename (without directory path) of the path provided to
.B ipptool
with the
.B \-f
option.
.TP 5
\fB$date-current\fR
Inserts the current date and time using the ISO-8601 format ("yyyy-mm-ddThh:mm:ssZ").
.TP 5
\fB$date-start\fR
Inserts the starting date and time using the ISO-8601 format ("yyyy-mm-ddThh:mm:ssZ").
.TP 5
\fB$filename\fR
Inserts the filename provided to
.B ipptool
with the
.B \-f
option.
.TP 5
\fB$filetype\fR
Inserts the MIME media type for the filename provided to
.B ipptool
with the
.B \-f
option.
.TP 5
\fB$hostname\fR
Inserts the hostname from the URI provided to
.B ipptool.
.TP 5
\fB$job\-id\fR
Inserts the last "job\-id" attribute value returned in a test response or 0 if no "job\-id" attribute has been seen.
.TP 5
\fB$job\-uri\fR
Inserts the last "job\-uri" attribute value returned in a test response or an empty string if no "job\-uri" attribute has been seen.
.TP 5
\fB$notify\-subscription\-id\fR
Inserts the last "notify\-subscription\-id" attribute value returned in a test response or 0 if no "notify\-subscription\-id" attribute has been seen.
.TP 5
\fB$port\fR
Inserts the port number from the URI provided to
.B ipptool.
.TP 5
\fB$resource\fR
Inserts the resource path from the URI provided to
.B ipptool.
.TP 5
\fB$scheme\fR
Inserts the scheme from the URI provided to
.B ipptool.
.TP 5
\fB$uri\fR
Inserts the URI provided to
.B ipptool.
.TP 5
\fB$uriuser\fR
Inserts the username from the URI provided to
.B ipptool,
if any.
.TP 5
\fB$user\fR
Inserts the current user's login name.
.SH GENERATE\-FILE PARAMETERS
The
.B GENERATE\-FILE
directive dynamically generates raster pages for the destination printer.
Each page consists of a black border and the text "TEST-PAGE ####" repeated in the interior in several shades of gray and colors.
The following parameters are supported:
.TP 5
\fBCOLORSPACE auto\fR
.TP 5
\fBCOLORSPACE bi-level\fR
.TP 5
\fBCOLORSPACE color\fR
.TP 5
\fBCOLORSPACE monochrome\fR
.TP 5
\fBCOLORSPACE \fICOLORSPACE\fB_\fIBITS\fR
Specifies the output color space and bit depth.
.B auto
chooses an available combination with preference for full color,
.B bi-level
chooses a B&W (bitmap) color space,
.B color
chooses a full color combination, and
.B monochrome
chooses a grayscale combination.
Otherwise, the value must be one of the registered IPP "pwg\-raster\-document\-type\-supported" keywords; the
.I deviceN_BITS
color spaces are not supported.
.TP 5
\fBFORMAT image/pwg-raster\fR
.TP 5
\fBFORMAT image/urf\fR
Specifies the raster format to use, either
.B image/pwg-raster
(PWG Raster) or
.B image/urf
(Apple Raster).
The default is
.B image/urf
if supported,
.B image/pwg-raster
otherwise.
.TP 5
\fBMEDIA default\fR
.TP 5
\fBMEDIA ready\fR
.TP 5
\fBMEDIA \fIPWG-SIZE-NAME\fR
Specifies the output media size.
.B default
uses the printer's default media size while
.B ready
uses the first ready (loaded) media reported by the printer.
Other media size names must conform the PWG self-describing media size format.
.TP 5
\fBNUM\-COPIES \fICOPIES\fR
Specifies the number of copies to produce.
The default is 1 copy.
.TP 5
\fBNUM\-PAGES \fIPAGES\fR
Specifies the number of pages to produce.
The default is 1 page for single-sided output and 2 pages for double-sided output.
.TP 5
\fBORIENTATION landscape\fR
.TP 5
\fBORIENTATION portrait\fR
.TP 5
\fBORIENTATION reverse\-landscape\fR
.TP 5
\fBORIENTATION reverse\-portrait\fR
Specifies the orientation of the output.
The default is
.BR portrait .
.TP 5
\fBRESOLUTION default\fR
.TP 5
\fBRESOLUTION max\fR
.TP 5
\fBRESOLUTION min\fR
.TP 5
\fBRESOLUTION \fIRESOLUTION\fBdpcm\fR
.TP 5
\fBRESOLUTION \fIHORIZONTAL\fBx\fIVERTICAL\fBdpcm\fR
.TP 5
\fBRESOLUTION \fIRESOLUTION\fBdpi\fR
.TP 5
\fBRESOLUTION \fIHORIZONTAL\fBx\fIVERTICAL\fBdpi\fR
Specifies the output resolution using the printer's supported resolutions or as specified in dots per inch or dots per centimeter.
.B default
uses the median resolution of the printer and is the default,
.B min
uses the lowest resolution of the printer, and
.B max
uses the highest resolution of the printer.
.TP 5
\fB SIDES one\-sided\fR
.TP 5
\fB SIDES two\-sided\-long\-edge\fR
.TP 5
\fB SIDES two\-sided\-short\-edge\fR
Specifies whether to print on one or both sides of the media.
The default is
.B two\-sided\-long\-edge
for portrait output and
.B two\-sided\-short\-edge
for landscape output when supported by the printer, otherwise
.B one\-sided
is used.
.SH EXAMPLES
Query the "foo-default" and "foo-supported" Printer Description attributes and validate that all of its values are 'bar', 'baz', or 'none':
.nf
{
  NAME "Validate 'foo' Attribute"
  OPERATION Get\-Printer\-Attributes
  GROUP operation\-attributes\-tag
  ATTR charset attributes\-charset utf\-8
  ATTR language attributes\-natural\-language en
  ATTR uri printer\-uri $uri
  ATTR keyword requested\-attributes foo\-default,foo\-supported
  EXPECT foo\-default OF\-TYPE keyword IN\-GROUP printer\-attributes\-tag
      COUNT 1 WITH\-VALUE "/^(bar|baz|none)$$/"
  EXPECT foo\-supported OF\-TYPE keyword IN\-GROUP printer\-attributes\-tag
      WITH\-ALL\-VALUES "/^(bar|baz|none)$$/"
}
.fi
Query the "media-col-ready" Printer Status attribute and validate that the collection values contain "media-size" and "media-source" member attributes:
.nf
{
  NAME "Validate 'foo' Attribute"
  OPERATION Get\-Printer\-Attributes
  GROUP operation\-attributes\-tag
  ATTR charset attributes\-charset utf\-8
  ATTR language attributes\-natural\-language en
  ATTR uri printer\-uri $uri
  ATTR keyword requested\-attributes media\-col\-ready
  EXPECT media\-col\-ready OF\-TYPE collection IN\-GROUP printer\-attributes\-tag
  EXPECT\-ALL media\-col\-ready/media\-size OF\-TYPE collection COUNT 1
  EXPECT\-ALL media\-col\-ready/media\-size/x\-dimension OF\-TYPE integer(1:MAX) COUNT 1
  EXPECT\-ALL media\-col\-ready/media\-size/y\-dimension OF\-TYPE integer(0:MAX) COUNT 1
  EXPECT\-ALL media\-col\-ready/media\-source OF\-TYPE keyword|name COUNT 1
}
.fi
.SH SEE ALSO
.BR ipptool (1)
.PP
IANA IPP Registry (https://www.iana.org/assignments/ipp-registrations)
.PP
PWG Internet Printing Protocol Workgroup (https://www.pwg.org/ipp)
.PP
PWG 5101.1-2023: PWG Media Standardized Names v2.1 (https://ftp.pwg.org/pub/pwg/candidates/cs-pwgmsn21-20230915-5101.1.pdf)
.PP
RFC 8011 (https://datatracker.ietf.org/doc/html/rfc8011)
.SH COPYRIGHT
Copyright \[co] 2021-2025 by OpenPrinting.
